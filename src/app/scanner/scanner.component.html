<div class="container text-center">
    <h1>ngx-scanner-qrcode</h1>

    <!-- ngx-scanner-qrcode -->
    <div class="scanner-wrapper">
        <div></div>
        <div class="scanner"></div>
    </div>
    <ngx-scanner-qrcode #action="scanner" (event)="onSuccess(action)" [text]="textConfig" [config]="config" (error)="onError($event)"></ngx-scanner-qrcode>

    <!-- data  -->
    <div *ngIf="action.data | async" class="alert alert-info shadow-lg">
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current flex-shrink-0 w-6 h-6">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        ></path>
      </svg>
            <span>{{ action.data | async | slice: 0:20 }}</span>
        </div>
    </div>
    <p class="data"></p>

    <!-- Loading -->
    <p *ngIf="action.isLoading">âŒ› Loading...</p>

    <!-- toggleCamera -->
    <!-- <button class="btn fixed bottom-20" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading">
    <img
      (click)="action.download('ngx-scanner-qrcode')"
      src="https://img.icons8.com/ios/50/000000/no-camera--v2.png"
      width="30px"
    />
  </button> -->

    <!-- <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'start')">
    Start
  </button>
    <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'play')">
    Play
  </button>
    <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'pause')">
    Pause
  </button>
    <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'stop')">
    Stop
  </button>
    <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="action.download('ngx-scanner-qrcode')">
    Cap
  </button> -->

    <!-- Copyright -->
</div>

<input [checked]="modal" type="checkbox" id="my-modal" class="modal-toggle" />
<div class="modal modal-bottom sm:modal-middle">
    <div class="modal-box">
        <h3 class="font-bold text-lg">Scan Successfull</h3>
        <p class="py-4">
            {{ action.data | async | slice: 0:25 }}
        </p>
        <div class="modal-action">
            <a *ngIf="url != ''" target="_blank" [href]="url" class="btn btn-primary">Open Link</a
      >

      <label for="my-modal" class="btn">Close</label>
    </div>
  </div>
</div>

<!-- Put this part before </body> tag -->
<input
  [checked]="pwaPrompt"
  type="checkbox"
  id="my-modal-6"
  class="modal-toggle"
/>
<div class="modal modal-bottom sm:modal-middle">
  <div class="modal-box text-center">
    <h3 class="font-bold text-lg">Install QR Scanner</h3>
    <div class="mt-4 flex justify-center">
      <img
        width="160"
        src="../../assets/undraw_app_installation_re_h36x.svg"
        alt=""
      />
    </div>

    <p class="py-4">
      Install this QR Scanner on your device for offline use. <br />
      <small>(No downloads required)</small>
    </p>
    <div class="modal-action">
      <label for="my-modal-6" class="btn btn-outline">Close</label>
      <button (click)="installPWA()" class="btn btn-primary">
        Install App
      </button>
    </div>
  </div>
</div>